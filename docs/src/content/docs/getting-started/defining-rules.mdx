---
title: Defining Rules
description: Learn the four ways to define validation rules in Valicomb
---

Valicomb provides four syntaxes for defining validation rules. This page progresses from basic usage to advanced patterns.

## Quick Comparison

| Syntax | Best For | Method |
|--------|----------|--------|
| **Field-Based Array** | Grouping all rules by field | `forFields()` |
| **Fluent Field Builder** | IDE autocomplete, per-field context | `field()` |
| **Fluent Rule Chain** | Adding custom messages per rule | `rule()` |
| **Rule-Based Array** | Applying same rule to many fields | `rules()` |

---

## Basics

### Field-Based Array Syntax (Recommended)

Group by field with `->forFields()`. This reads naturally as "for this field, apply these rules":

```php
$v = new Validator($_POST);
$v->forFields([
    'email' => ['required', 'email', ['lengthMax', 254]],
    'password' => [
        'required',
        ['lengthMin', 8, 'message' => 'Password too short']
    ]
]);
```

### Fluent Field Builder

Chain validation methods directly on fields with full IDE autocomplete support:

```php
$v = new Validator($_POST);

$v->field('email')
    ->required()
    ->email()
    ->lengthMax(254);

$v->field('password')
    ->required()
    ->lengthMin(8);
```

Use `message()` and `label()` for customization:

```php
$v->field('email')
    ->label('Email Address')
    ->required()->message('We need your email')
    ->email();
```

See the [Fluent API](/valicomb/getting-started/fluent-api/) page for the complete method reference.

### Fluent Rule Chain Syntax

Chain rules with `->rule()`. Best for adding custom messages and labels inline.

```php
$v = new Validator($_POST);
$v->rule('required', 'email')
  ->message('We need your email!')
  ->label('Email Address')
  ->rule('email', 'email')
  ->rule('lengthMin', 'password', 8);
```

#### Chaining Multiple Rules

Chain as many rules as needed on a single field:

```php
$v = new Validator(['email' => 'test@example.com']);
$v->rule('required', 'email')
  ->rule('email', 'email')
  ->rule('lengthMax', 'email', 254);
$v->validate();
```

### Rule-Based Array Syntax

Group by rule type with `->rules()`. Best when applying the same rule to many fields.

```php
$v = new Validator($_POST);
$v->rules([
    'required' => ['name', 'email', 'password'],
    'email' => 'email',
    'lengthMin' => [
        ['username', 3],
        ['password', 8, 'message' => 'Password too short']
    ]
]);
```

---

## Intermediate

### Custom Messages

All syntaxes support inline custom messages using the `'message'` key:

```php
// Array syntaxes
['lengthMin', 8, 'message' => 'Password too short']

// Fluent syntax
$v->rule('lengthMin', 'password', 8)->message('Password too short');
```

See [Error Messages](/valicomb/guides/error-messages/) for placeholders, labels, and more options.

### Applying Rules to Multiple Fields

All syntaxes support applying one rule to multiple fields:

```php
// Fluent
$v->rule('required', ['email', 'name', 'password']);

// Array
$v->rules(['required' => ['email', 'name', 'password']]);
```

---

## Advanced

### Mixing Syntaxes

You can combine array and fluent syntaxes in the same validator:

```php
$v = new Validator($_POST);

// Start with array syntax
$v->rules([
    'required' => ['name', 'email'],
    'email' => 'email'
]);

// Add more rules with fluent syntax
$v->rule('lengthMin', 'name', 2)
  ->rule('min', 'age', 18);
```

### Valitron Compatibility

For developers migrating from Valitron, these deprecated method aliases are available:

```php
// Deprecated - use forFields() instead
$v->mapFieldRules('email', ['required', 'email']);
$v->mapFieldsRules([...]);
$v->mapOneFieldToRules('email', [...]);
```

---

## Next Steps

- [Error Messages](/valicomb/guides/error-messages/) - Custom messages, labels, and placeholders
- [Custom Rules](/valicomb/guides/custom-rules/) - Create your own validation rules
- [Validation Rules](/valicomb/rules/overview/) - Explore all 53 built-in rules
